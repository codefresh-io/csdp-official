apiVersion: codefresh.io/v1alpha1
kind: Runtime
metadata:
  name: "{{ name }}"
  namespace: "{{ namespace }}"
spec:
  requiredCLIVersion: ^0.1.0
  version: 0.1.16
  bootstrapSpecifier: github.com/codefresh-io/csdp-official/csdp/hybrid/basic/apps/argo-cd?ref=CR-24-hosted
  components:
    - name: events
      type: kustomize
      url: github.com/codefresh-io/csdp-official/csdp/hybrid/basic/apps/argo-events?ref=CR-24-hosted
      wait: true
    - name: rollouts
      type: kustomize
      url: github.com/codefresh-io/csdp-official/csdp/hybrid/basic/apps/argo-rollouts?ref=CR-24-hosted
    - name: workflows
      type: kustomize
      url: github.com/codefresh-io/csdp-official/csdp/hybrid/basic/apps/argo-workflows?ref=CR-24-hosted
    - name: app-proxy
      type: kustomize
      url: github.com/codefresh-io/csdp-official/csdp/hybrid/basic/apps/app-proxy?ref=CR-24-hosted
      syncWave: 9
    - name: internal-router
      type: kustomize
      url: github.com/codefresh-io/csdp-official/csdp/hybrid/basic/apps/internal-router?ref=CR-24-hosted
      syncWave: 10
    - name: sealed-secrets
      type: kustomize
      url: github.com/codefresh-io/csdp-official/csdp/hybrid/basic/apps/sealed-secrets?ref=CR-24-hosted
    - name: codefresh-tunnel-client
      type: helm
      url: github.com/codefresh-io/codefresh-tunnel-charts/codefresh-tunnel-client?ref=0.1.8
      feature: ingressless
